import{c as h,u as A,a as F,j as e,L as C,S}from"./index-DXgnGpbQ.js";import{S as L}from"./shield-check-C8N9_uIw.js";/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],I=h("arrow-left",E);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_=h("external-link",R);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],M=h("star",z);function B(){var p,g,j,v,N,f;const s=A(),t=F.useLoaderData();if(t.notFound)return e.jsxs("div",{className:"glass-panel glass-content p-8 text-center space-y-3",children:[e.jsx("p",{className:"text-lg font-semibold",children:"Agent not found"}),e.jsx("p",{className:"text-[var(--text-secondary)]",children:"The requested agent does not exist or has been removed."}),e.jsx("button",{onClick:()=>s({to:"/"}),children:"Back to explorer"})]});const{agent:a,feedback:n,avgScore:i}=t,l=((p=a.registrationFile)==null?void 0:p.name)||`Agent #${a.agentId}`,r=(g=a.registrationFile)==null?void 0:g.description,c=(j=a.registrationFile)==null?void 0:j.image,d=((v=a.registrationFile)==null?void 0:v.supportedTrusts)||[],x=(N=a.registrationFile)==null?void 0:N.mcpEndpoint,k=(f=a.registrationFile)==null?void 0:f.a2aEndpoint;return e.jsxs("div",{className:"space-y-5",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(C,{to:"/",className:"inline-flex items-center gap-2 ghost-btn",children:[e.jsx(I,{size:16}),"Back to all agents"]})}),e.jsxs("div",{className:"glass-panel glass-content p-5 grid grid-cols-1 gap-4 lg:grid-cols-[1.6fr_1fr]",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"h-20 w-20 shrink-0 rounded-2xl overflow-hidden glass-panel",children:c?e.jsx("img",{src:c,alt:l,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center text-2xl font-bold text-[var(--text-secondary)]",children:l.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"badge mb-2",children:[e.jsx(S,{size:14})," Agent risk profile"]}),e.jsx("h1",{className:"text-2xl font-semibold",children:l}),e.jsx("p",{className:"text-sm text-[var(--text-secondary)] font-mono",children:a.id})]})]}),e.jsxs("div",{className:"grid-2",children:[e.jsx(m,{label:"Owner",value:b(a.owner),helper:"Wallet controlling the agent NFT"}),e.jsx(m,{label:"Created",value:w(a.createdAt),helper:"On-chain registration time"})]}),e.jsxs("div",{className:"grid-2",children:[e.jsx(m,{label:"Trust models",value:d.length>0?e.jsx("div",{className:"flex flex-wrap gap-1.5",children:d.map(o=>e.jsx("span",{className:"tag",children:o},o))}):"â€”",helper:"Supported policy / trust frameworks"}),e.jsx(m,{label:"Avg score",value:i!==null?e.jsx(T,{score:i,count:n.length}):"No reviews yet",helper:"Aggregated from feedback"})]}),r&&e.jsxs("div",{className:"glass-panel glass-content p-4",children:[e.jsx("h3",{className:"text-sm text-[var(--text-secondary)] mb-1",children:"Description"}),e.jsx("p",{className:"text-[var(--text-secondary)] leading-relaxed",children:r})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"glass-panel glass-content p-4",children:[e.jsx("h3",{className:"text-sm text-[var(--text-secondary)] mb-2",children:"Endpoints"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{label:"MCP",url:x}),e.jsx(u,{label:"A2A",url:k})]})]}),e.jsxs("div",{className:"glass-panel glass-content p-4",children:[e.jsx("h3",{className:"text-sm text-[var(--text-secondary)] mb-2",children:"Registration file"}),e.jsxs("div",{className:"text-sm text-[var(--text-secondary)] space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"ID"}),e.jsx("span",{className:"font-mono",children:a.agentId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Chain"}),e.jsx("span",{className:"font-mono",children:a.chainId})]})]})]})]})]}),e.jsxs("div",{className:"glass-panel glass-content p-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Feedback"}),e.jsxs("p",{className:"text-[var(--text-secondary)] text-sm",children:[n.length," reviews, disputes, and risk notes"]})]}),e.jsxs("div",{className:"badge",children:[e.jsx(L,{size:14})," ",n.length>0?"Community verified":"Awaiting signals"]})]}),e.jsx("div",{className:"divider"}),n.length===0?e.jsx("div",{className:"text-[var(--text-secondary)]",children:"No reviews yet. Be the first to attest this agent."}):e.jsx("div",{className:"grid-2",children:n.map(o=>e.jsx($,{feedback:o},o.id))})]})]})}function m({label:s,value:t,helper:a}){return e.jsxs("div",{className:"glass-panel glass-content p-4 space-y-1",children:[e.jsx("div",{className:"text-sm text-[var(--text-secondary)]",children:s}),e.jsx("div",{className:"text-lg font-semibold",children:t}),a&&e.jsx("div",{className:"text-xs text-[var(--text-secondary)]",children:a})]})}function u({label:s,url:t}){return t?e.jsxs("a",{className:"flex items-center justify-between gap-2 text-sm hover:text-white",href:t,target:"_blank",rel:"noreferrer",children:[e.jsxs("span",{className:"badge",children:[s," endpoint"]}),e.jsxs("span",{className:"flex items-center gap-1 text-[var(--text-secondary)]",children:[e.jsx("span",{className:"truncate max-w-[220px]",children:t}),e.jsx(_,{size:14})]})]}):e.jsxs("div",{className:"flex items-center justify-between text-[var(--text-secondary)]",children:[e.jsx("span",{children:s}),e.jsx("span",{className:"pill",children:"Not provided"})]})}function T({score:s,count:t}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-24 overflow-hidden rounded-full bg-[rgba(255,255,255,0.08)]",children:e.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-[var(--primary)] to-[var(--success)]",style:{width:`${s}%`}})}),e.jsxs("div",{className:"text-sm font-semibold",children:[s,"/100"]}),e.jsxs("span",{className:"pill",children:[t," reviews"]})]})}function $({feedback:s}){var c,d,x;const t=parseInt(s.score),a=(c=s.feedbackFile)==null?void 0:c.text,n=(d=s.feedbackFile)==null?void 0:d.capability,i=(x=s.feedbackFile)==null?void 0:x.skill,l=y(s.tag1)?s.tag1:null,r=y(s.tag2)?s.tag2:null;return e.jsxs("div",{className:"glass-panel glass-content p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{size:16,color:"var(--primary)"}),e.jsxs("div",{className:"text-sm font-semibold",children:[t,"/100"]})]}),e.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:w(s.createdAt)})]}),a&&e.jsx("p",{className:"text-sm text-[var(--text-secondary)] leading-relaxed",children:a}),e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[l&&e.jsx("span",{className:"tag",children:l}),r&&e.jsx("span",{className:"tag",children:r}),n&&e.jsx("span",{className:"tag",children:n}),i&&e.jsx("span",{className:"tag",children:i})]}),e.jsxs("div",{className:"text-xs text-[var(--text-secondary)] font-mono",children:["by ",b(s.clientAddress)]})]})}function b(s){return`${s.slice(0,6)}...${s.slice(-4)}`}function w(s){return new Date(parseInt(s)*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function y(s){return s?s.split("").filter(a=>a.charCodeAt(0)<32||a.charCodeAt(0)>126).length/s.length<.3:!1}export{B as component};
